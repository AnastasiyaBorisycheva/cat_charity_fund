# Приложение QR-Кот

Приложение для Благотворительного фонда поддержки котиков QRKot. 
Фонд собирает пожертвования на различные целевые проекты: на медицинское обслуживание нуждающихся хвостатых, на обустройство кошачьей колонии в подвале, на корм оставшимся без попечения кошкам — на любые цели, связанные с поддержкой кошачьей популяции.

## Установка и запуск

Клонировать репозиторий и перейти в него в командной строке:

```
git clone 
```

```
cd cat_charity_fund
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

* Если у вас Linux/macOS

    ```
    source venv/bin/activate
    ```
* Если у вас windows

    ```
    source venv/scripts/activate
    ```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Запуск проекта:
```
uvicorn app.main:app 
```

## Работа с API

1. Благотворительные проекты.

   * эндпоинт `/charity_project`
   * доступно 4 метода: GET, POST, DELETE, PATCH
   * любой пользователь, в том числе неавторизованный, может посмотреть список всех проектов
   * создавать, редактировать и удалять проекты может только администратор сайта
   * суперпользователь может удалить проект только если в проект еще не были инвестированы средства
  
   Примеры запросов:
     1.1. Посмотреть список всех благотворительных проектов
     
     `GET /charity_project/`
  
     Ответ:
     ```
     [
      {
        "id": 1,
        "name": "First Project",
        "description": "First test project",
        "full_amount": 1000,
        "invested_amount": 1000,
        "fully_invested": true,
        "create_date": "2025-01-29T15:21:58.953875",
        "close_date": "2025-01-29T15:21:58.965940"
      },
      {
        "id": 2,
        "name": "Second Project",
        "description": "Second test project",
        "full_amount": 2000,
        "invested_amount": 2000,
        "fully_invested": true,
        "create_date": "2025-01-29T15:21:59.045638",
        "close_date": "2025-01-29T15:21:59.260026"
      },
     ]
     ```
  
    1.2. Удалить проект
  
  `DELETE /charity_project/{project_id}`
  
  ! требуется авторизация суперпользователя
  
  Ответ:
  
  ```
  {
    "id": 5,
    "name": "Project to delete",
    "description": "string",
    "full_amount": 5000,
    "invested_amount": 0,
    "fully_invested": false,
    "create_date": "2025-01-30T15:17:15.066367"
  }
   ```

2. Пожертвования.

   * эндпоинтs `/donation`, `/donation/my`
   * доступные методы: GET, POST
   * список всех пожертвований доступен только администратору сайта
   * любой зарегистрированный пользователь может внести пожертвование и оставить комментарий
   * любой зарегистрированный пользователь может просматривать только список своих пожертвований
  
 Примеры запросов:

 2.1. Сделать пожертвование

 `POST /donation`
 Тело запроса:
 ```
   {
    "full_amount": 5000,
    "comment": "На корм"
  }
 ```

  ! требуется авторизация
  
  Ответ:

   ```
     {
      "id": 5,
      "comment": "На корм",
      "full_amount": 5000,
      "create_date": "2025-01-30T15:24:35.719799"
      }
   ```

  2.2. Посмотреть список своих пожертвований

   `GET /donation/my`
   
   ! требуется авторизация

   Ответ:

   ```
   [
      {
        "id": 5,
        "comment": "На корм",
        "full_amount": 5000,
        "create_date": "2025-01-30T15:24:35.719799"
      },
    ]
```

Автор: Борисычева Анастасия
